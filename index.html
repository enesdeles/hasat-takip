<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hasat Takip</title>

<link rel="manifest" href="manifest.webmanifest">
<meta name="theme-color" content="#2e7d32">

<style>
body { font-family: Arial; padding: 10px; }
button, select, input { padding: 8px; margin: 5px 0; width: 100%; }
</style>
</head>

<body>
<h2>ðŸŒ¿ Hasat Takip</h2>

<select id="personel"></select>

<select id="kutu">
<script>
for(let i=1;i<=200;i++){
 document.write(`<option>${i}</option>`)
}
</script>
</select>

<button onclick="kaydet()">HasatÄ± Bitir ve Kaydet</button>
<button onclick="window.location.href='./olu-bitki.html'">Ã–lÃ¼ Bitki Kesimi</button>
<button onclick="window.location.href='./rapor.html'">KayÄ±tlÄ± Raporlar</button>

<hr>
<button onclick="temizle()">ðŸ§¹ SayfayÄ± Temizle</button>

<script>
const defaultPersonel = [
"Akile","Beyhan","Emine tÃ¼rk","Emine yavuz","EmiÅŸ","EsengÃ¼l","Fadime",
"Fatma Demiral","Fatma karabulut","GÃ¼lbeyaz gÃ¼ler","GÃ¼lbeyaz Ã–ztop",
"Keziban tasoluk","Keziban yÃ¼ce","Keziban yÃ¼ksek","Meryem","MÃ¼jgan",
"MÃ¼mine","Neslihan","Ã–zgÃ¼l","Raziye koÃ§ak","Raziye sarÄ±",
"Safiye aslan","Safiye coÅŸkun","Safiye karaca","SatÄ± karakaya",
"SatÄ± taskin","Sultan","ÅžengÃ¼l","Åžerife avcÄ±","Åžerife demiral",
"Ummuhan Ã¶zdemir","YaÅŸar"
];

let personelList = JSON.parse(localStorage.getItem("personel")) || defaultPersonel;
localStorage.setItem("personel", JSON.stringify(personelList));

const select = document.getElementById("personel");
personelList.sort().forEach(p=>{
 select.innerHTML += `<option>${p}</option>`;
});

document.getElementById("kutu").value =
localStorage.getItem("kutu") || 1;

document.getElementById("kutu").onchange = e=>{
 localStorage.setItem("kutu", e.target.value);
}

function kaydet(){
 let rapor = {
  tur:"Hasat",
  personel: select.value,
  adet: document.getElementById("kutu").value,
  tarih: new Date().toLocaleString()
 };
 let raporlar = JSON.parse(localStorage.getItem("raporlar")) || [];
 raporlar.push(rapor);
 localStorage.setItem("raporlar", JSON.stringify(raporlar));
 alert("Kaydedildi");
}

function temizle(){
 localStorage.removeItem("kutu");
 location.reload();
}

if('serviceWorker' in navigator){
 navigator.serviceWorker.register('./sw.js');
}
</script>
</body>
</html>
